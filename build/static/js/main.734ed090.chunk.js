(this.webpackJsonpfinsymb01=this.webpackJsonpfinsymb01||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(20),o=n.n(c),u=(n(55),n(6)),i=n(12),l=n(10),s=n(8),m=n(26),b=n(43),d=n(9),f=n(45),p=n(31);var v=function(e){return"".concat(("0"+e.getHours()).slice(-2),":").concat(("0"+e.getMinutes()).slice(-2))},h=Object(d.b)((function(e,t){return{data:(e[t.symbol]||[]).map((function(e){return{dateTime:v(e.dateTime),value:e.value}}))}}))((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(f.DataTable,{value:e.data,header:e.symbol,emptyMessage:"There is no data to display"},r.a.createElement(p.Column,{field:"dateTime",header:"Tick Time"}),r.a.createElement(p.Column,{field:"value",header:"Current"}))))}));var O=n(16),y=n(25),j=n(19),E=n(49),w=n(15),R=n.n(w),g=n(22),k=n(46),T=n(47),U=n.n(T),x=function(){function e(t){Object(u.a)(this,e),this.baseUrl=void 0,this.baseUrl=t}return Object(i.a)(e,[{key:"sendRequest",value:function(e,t,n){return U.a.request({url:e,method:t,data:n})}}]),e}(),S=n(27),C=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Invalid parameter";return Object(u.a)(this,n),(a=t.call(this,r)).paramName=void 0,a.paramName=e,a}return n}(Object(S.a)(Error)),D=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Model validation error";return Object(u.a)(this,n),(a=t.call(this,r)).Member=e,a}return n}(Object(S.a)(Error)),M=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){if(Object(u.a)(this,n),!e)throw new C("url");return t.call(this,e)}return Object(i.a)(n,[{key:"GetCurrentSymbol",value:function(){var e=Object(k.a)(R.a.mark((function e(t){var n,a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new C("symbol");case 2:if(n=t.substring(0,3),a=t.substring(3),n){e.next=6;break}throw new D("symbol","Validation error. Could not parse base symbol");case 6:if(a){e.next=8;break}throw new D("symbol","Validation error. Could not parse second symbol");case 8:return e.next=10,this.sendRequest("".concat(this.baseUrl,"base=").concat(n,"&symbols=").concat(a),"get",null);case 10:return r=e.sent,e.abrupt("return",{base:n,slave:a,dateTime:new Date,value:r.data.rates[a]});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(x),B={currencySvc:"https://api.exchangeratesapi.io/latest?"},I=R.a.mark(N),A=new M(B.currencySvc);function N(e){var t;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(g.a)([A,A.GetCurrentSymbol],e.dataType);case 2:return t=n.sent,n.next=5,Object(g.b)(q(e.dataType,t));case 5:case"end":return n.stop()}}),I)}var W=R.a.mark(H);function H(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)("LOAD",N);case 2:case"end":return e.stop()}}),W)}var L=function(e){return{type:"LOAD",dataType:e}},q=function(e,t){return{type:"STORE",dataType:e,data:t}},_=Object(E.a)(),F=Object(O.d)((function(e,t){switch(t.type){case"STORE":return Object(j.a)({},e,Object(y.a)({},t.dataType,[].concat(Object(m.a)((e[t.dataType]||[]).filter((function(e){return Number(e.dateTime)!==Number(t.data.dateTime)})).slice(-20)),[{dateTime:t.data.dateTime,value:t.data.value}])));case"SHOW_ERROR":case"HIDE_ERROR":return Object(j.a)({},e,{error:Object(j.a)({},t.data)});default:return e||{}}}),Object(O.a)(_));_.run(H);var G=Object(d.b)((function(e){return{labels:(e.EURUSD||[]).map((function(e){return v(e.dateTime)})),data:[(e.EURUSD||[]).map((function(e){return e.value})),(e.EURRUB||[]).map((function(e){return e.value}))],captions:["EURUSD","EURRUB"]}}))((function(e){var t={labels:e.labels||[],datasets:(e.data||[]).map((function(t,n){return{label:e.captions[n],fill:!1,backgroundColor:"#".concat(255<<n),borderColor:"#".concat(255<<n),yAxisID:"y-axis-".concat(n+1),data:Object(m.a)(e.data[n])}}))},n={responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:(e.data||[]).map((function(e,t){return{type:"linear",display:!0,position:t%2?"right":"left",id:"y-axis-".concat(t+1)}}))}};return r.a.createElement("div",null," ",e.labels.length>0?r.a.createElement(b.Chart,{type:"line",data:t,options:n}):"No data to display",(e.captions||[]).map((function(e){return r.a.createElement(h,{key:e,symbol:e})})))})),J=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(G,null)))}}]),n}(a.Component),V=Object(d.b)(null,(function(e){return{onLoad:function(){e(L("EURRUB")),e(L("EURUSD"))}}}))(J),$=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={timer:null},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({timer:setInterval(this.props.onTimer||function(){},this.props.numSec||6e4)})}},{key:"componentWillUnmount",value:function(){this.state.timer&&clearInterval()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),n}(a.Component),z=Object(d.b)(null,(function(e,t){return{onTimer:function(){e(L(t.symbol||""))}}}))($),K=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidCatch=function(t,n){return e.props.onException(t,n)},e}return Object(i.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(a.Component),P={onException:function(e,t){return{type:"SHOW_ERROR",data:{showError:!0,error:e,info:t}}}},Q=Object(d.b)(null,P)(K),X=n(48);var Y=Object(d.b)((function(e){return{show:(e.error||{}).showError,message:(e.error||{}).info}}))((function(e){return r.a.createElement("div",null,e.show&&r.a.createElement(X.Message,{severity:"error",text:e.message}))})),Z=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{store:F},r.a.createElement(Q,null,r.a.createElement(Y,null),r.a.createElement(z,{numSec:6e4,symbol:"EURUSD"}),r.a.createElement(z,{numSec:6e4,symbol:"EURRUB"}),r.a.createElement(V,null))))}}]),n}(a.Component);var ee=function(){return r.a.createElement(Z,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(111),n(112),n(113);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,n){e.exports=n(114)},55:function(e,t,n){}},[[50,1,2]]]);
//# sourceMappingURL=main.734ed090.chunk.js.map